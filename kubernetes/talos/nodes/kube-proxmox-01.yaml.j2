---
machine:
  install:
    disk: /dev/sda
    image: factory.talos.dev/metal-installer/88d1f7a5c4f1d3aba7df787c448c1d3d008ed29cfb34af53fa0df4336a56040b:v1.12.0
  network:
    interfaces:
      - interface: bond0
        bond:
          deviceSelectors:
            - hardwareAddr: bc:24:11:41:5f:39
              driver: virtio_net
          mode: active-backup
        dhcp: true
        vip:
          ip: 10.17.1.8
        vlans:
          - vlanId: 50
            dhcp: false
            mtu: 1500
          - vlanId: 90
            dhcp: false
            mtu: 1500
  nodeLabels:
    node.kubernetes.io/virtual: "true"
    node.longhorn.io/create-default-disk: "true"
  type: controlplane
---
apiVersion: v1alpha1
kind: VolumeConfig
name: EPHEMERAL
provisioning:
  diskSelector:
    match: system_disk
  grow: false
  maxSize: 50GB
---
apiVersion: v1alpha1
kind: UserVolumeConfig
name: local-hostpath
provisioning:
  diskSelector:
    match: system_disk
  grow: true
  minSize: 40GB
---
apiVersion: v1alpha1
kind: UserVolumeConfig
name: longhorn
provisioning:
  diskSelector:
    match: '!system_disk'
  grow: true
  minSize: 50GiB
---
apiVersion: v1alpha1
kind: HostnameConfig
hostname: kube-proxmox-01
